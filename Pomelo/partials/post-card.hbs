{{!-- This is a partial file used to generate a post "card"
which templates loop over to generate a list of posts. --}}

<article class="post-card-default {{post_class}}">
  <div class="post-card-container">
    {{#if feature_image}}
      <a class="post-card-image-link" href="{{url}}">

        {{!-- This is a responsive image, it loads different sizes depending on device
        https://medium.freecodecamp.org/a-guide-to-responsive-images-with-ready-to-use-templates-c400bd65c433 --}}
        <img class="post-card-image"
          srcset="{{img_url feature_image size="s"}} 300w, {{img_url feature_image size="m"}} 600w, {{img_url feature_image size="l"}} 1000w, {{img_url feature_image size="xl"}} 2000w"
          sizes="(max-width: 1000px) 400px, 800px"
          src="{{img_url feature_image size="m"}}"
          alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
          loading="lazy"
        />
        {{#primary_author}}
          <a href="{{url}}" class="post-card-meta-author-avatar-link">
            <img src="{{img_url profile_image size="xs"}}" class="post-card-meta-author-avatar-image" alt="{{name}}" />
          </a>
        {{/primary_author}}
      </a>
    {{/if}}
    <div class="post-card-content">
      <a class="post-card-content-link" href="{{url}}">
        <header class="post-card-header">
          <div class="post-card-tags flex">
            {{#primary_tag}}
              <span class="post-card-primary-tag">{{name}}</span>
            {{/primary_tag}}
            {{#if featured}}
              <span class="post-card-featured">{{> "icons/fire"}} 精选文章</span>
            {{/if}}
          </div>
          <h2 class="post-card-title">
            {{title}}
          </h2>
        </header>
        {{#if excerpt}}
          <div class="post-card-excerpt">{{excerpt}}</div>
        {{/if}}
      </a>
      <footer class="post-card-meta">
        {{#primary_author}}
          <a href="{{url}}" class="post-card-meta-author-link">
            {{name}}
          </a>
          <span class="sep">•</span>
        {{/primary_author}}
        <time class="post-card-meta-date" datetime="{{date format="YYYY-MM-DD"}}">{{date}}</time>
        {{#if reading_time}}
          <span class="sep">•</span>
          <span class="post-card-meta-length">{{reading_time minute=(t "1 分钟阅读") minutes=(t "% 分钟阅读")}}</span>
        {{/if}}
      </footer>
    </div>
  </div>
</article>
